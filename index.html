<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PhotoLog PDF Creator</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#2563eb">
  
  <!-- 
    OFFLINE INSTRUCTIONS:
    To run this file completely offline (air-gapped), download the following files 
    and save them in the same folder as this index.html:
    
    1. https://cdn.tailwindcss.com (save as tailwind.js) -> Update script src below
    2. https://unpkg.com/react@18/umd/react.production.min.js (save as react.js)
    3. https://unpkg.com/react-dom@18/umd/react-dom.production.min.js (save as react-dom.js)
    4. https://unpkg.com/@babel/standalone/babel.min.js (save as babel.js)
    5. https://unpkg.com/jspdf@2.5.1/dist/jspdf.umd.min.js (save as jspdf.js)
  -->

  <!-- Libraries -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>tailwind.config = { darkMode: 'class' }</script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; }
    /* Drag and drop overlay styles */
    .drag-active { border-color: #3b82f6 !important; background-color: #eff6ff !important; }
    .dark .drag-active { background-color: rgba(30, 58, 138, 0.3) !important; }
  </style>
<script type="importmap">
{
  "imports": {
    "jspdf": "https://esm.sh/jspdf@^4.0.0",
    "lucide-react": "https://esm.sh/lucide-react@^0.562.0",
    "react/": "https://esm.sh/react@^19.2.3/",
    "react": "https://esm.sh/react@^19.2.3"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
<body class="bg-slate-50 text-slate-900 dark:bg-slate-900 dark:text-slate-100 antialiased transition-colors duration-200">
  <div id="root"></div>

  <!-- Application Logic -->
  <script type="text/babel">
    const { useState, useEffect, useCallback } = React;
    const { jsPDF } = window.jspdf;

    // --- Icons (Inline SVGs to remove dependency) ---
    const Icons = {
      Camera: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></svg>,
      Sun: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>,
      Moon: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>,
      Download: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>,
      Settings: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.09a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.39a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>,
      Plus: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>,
      FileText: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><line x1="10" y1="9" x2="8" y2="9"/></svg>,
      Upload: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>,
      X: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>,
      Trash2: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>
    };

    // --- PDF Service ---
    const generatePDF = (entries, projectTitle, companyLogo) => {
      const doc = new jsPDF();
      const PAGE_WIDTH = 210;
      const PAGE_HEIGHT = 297;
      const MARGIN_X = 15;
      const HEADER_HEIGHT = 30;
      const HEADER_Y_START = 10;
      const CONTENT_START_Y = HEADER_Y_START + HEADER_HEIGHT + 5;
      const CONTENT_HEIGHT = PAGE_HEIGHT - CONTENT_START_Y - 15;
      const ITEMS_PER_PAGE = 4;
      const ROW_HEIGHT = CONTENT_HEIGHT / ITEMS_PER_PAGE;
      const IMG_BOX_WIDTH = 80;
      const IMG_BOX_HEIGHT = ROW_HEIGHT - 10;
      const TEXT_X = MARGIN_X + IMG_BOX_WIDTH + 10;
      const TEXT_WIDTH = PAGE_WIDTH - TEXT_X - MARGIN_X;

      const drawHeader = (pageNumber) => {
        if (companyLogo) {
          try {
            const logoProps = doc.getImageProperties(companyLogo);
            const maxLogoW = 50;
            const maxLogoH = 25;
            const logoRatio = logoProps.width / logoProps.height;
            let logoW = maxLogoW;
            let logoH = maxLogoW / logoRatio;
            if (logoH > maxLogoH) { logoH = maxLogoH; logoW = maxLogoH * logoRatio; }
            doc.addImage(companyLogo, "JPEG", MARGIN_X, HEADER_Y_START, logoW, logoH, undefined, 'FAST');
          } catch (e) { console.warn("Invalid logo data", e); }
        }
        if (projectTitle) {
          doc.setFont("helvetica", "bold");
          doc.setFontSize(18);
          doc.text(projectTitle, PAGE_WIDTH - MARGIN_X, HEADER_Y_START + 15, { align: "right" });
        }
        doc.setDrawColor(200, 200, 200);
        doc.setLineWidth(0.5);
        doc.line(MARGIN_X, HEADER_Y_START + HEADER_HEIGHT, PAGE_WIDTH - MARGIN_X, HEADER_Y_START + HEADER_HEIGHT);
      };

      drawHeader(1);
      let cursorY = CONTENT_START_Y;

      entries.forEach((entry, index) => {
        if (index > 0 && index % ITEMS_PER_PAGE === 0) {
          doc.addPage();
          cursorY = CONTENT_START_Y;
          drawHeader(Math.ceil((index + 1) / ITEMS_PER_PAGE));
        }
        const rowTop = cursorY;
        if (entry.imageSrc) {
          try {
            const props = doc.getImageProperties(entry.imageSrc);
            const imgRatio = props.width / props.height;
            let renderW = IMG_BOX_WIDTH;
            let renderH = IMG_BOX_WIDTH / imgRatio;
            if (renderH > IMG_BOX_HEIGHT) { renderH = IMG_BOX_HEIGHT; renderW = IMG_BOX_HEIGHT * imgRatio; }
            const xOffset = MARGIN_X + (IMG_BOX_WIDTH - renderW) / 2;
            const yOffset = rowTop + 5 + (IMG_BOX_HEIGHT - renderH) / 2;
            doc.addImage(entry.imageSrc, "JPEG", xOffset, yOffset, renderW, renderH);
          } catch (e) { }
        }
        doc.setFont("helvetica", "normal");
        doc.setFontSize(11);
        const splitText = doc.splitTextToSize(entry.description, TEXT_WIDTH);
        const textHeight = splitText.length * 5;
        let textY = rowTop + (ROW_HEIGHT / 2) - (textHeight / 2) + 2;
        if (textY < rowTop + 5) textY = rowTop + 5;
        doc.text(splitText, TEXT_X, textY);
        
        if ((index + 1) % ITEMS_PER_PAGE !== 0 && index !== entries.length - 1) {
          doc.setDrawColor(230, 230, 230);
          doc.setLineWidth(0.2);
          doc.line(MARGIN_X, rowTop + ROW_HEIGHT, PAGE_WIDTH - MARGIN_X, rowTop + ROW_HEIGHT);
        }
        cursorY += ROW_HEIGHT;
      });
      doc.save(`${(projectTitle || "project").replace(/[^a-z0-9]/gi, '_').toLowerCase()}_report.pdf`);
    };

    // --- Component: PhotoUploader ---
    const PhotoUploader = ({ imageSrc, onImageSelect, onClear, label = "Click or drag to upload photo", heightClass = "h-64" }) => {
      const [isDragging, setIsDragging] = useState(false);

      const processFile = (file) => {
        if (file && file.type.startsWith('image/')) {
          const reader = new FileReader();
          reader.onloadend = () => onImageSelect(reader.result);
          reader.readAsDataURL(file);
        } else {
          alert("Please upload an image file.");
        }
      };
      
      const handleFileChange = (e) => { const file = e.target.files?.[0]; if (file) processFile(file); };
      const onDragOver = (e) => { e.preventDefault(); setIsDragging(true); };
      const onDragLeave = (e) => { e.preventDefault(); setIsDragging(false); };
      const onDrop = (e) => { e.preventDefault(); setIsDragging(false); const file = e.dataTransfer.files?.[0]; if (file) processFile(file); };

      if (imageSrc) {
        return (
          <div className={`relative w-full ${heightClass} bg-slate-100 dark:bg-slate-900 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700 shadow-inner group`}>
            <img src={imageSrc} alt="Preview" className="w-full h-full object-contain" />
            <button onClick={onClear} className="absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-md z-10"><Icons.X size={16} /></button>
          </div>
        );
      }
      return (
        <div className="w-full">
          <label 
            onDragOver={onDragOver} onDragLeave={onDragLeave} onDrop={onDrop}
            className={`flex flex-col items-center justify-center w-full ${heightClass} border-2 border-dashed rounded-lg cursor-pointer transition-all duration-200 
            ${isDragging ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/30 scale-[1.02] shadow-lg' : 'border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-800/50 hover:bg-slate-100 dark:hover:bg-slate-800'}`}
          >
            <div className="flex flex-col items-center justify-center pt-5 pb-6 pointer-events-none">
              <Icons.Upload className={`w-8 h-8 mb-2 transition-colors ${isDragging ? 'text-blue-500' : 'text-slate-400 dark:text-slate-500'}`} />
              <p className={`mb-1 text-sm font-medium text-center px-2 transition-colors ${isDragging ? 'text-blue-600 dark:text-blue-400' : 'text-slate-500 dark:text-slate-400'}`}>
                {isDragging ? "Drop to upload" : label}
              </p>
              <p className="text-xs text-slate-400 dark:text-slate-500">JPG, PNG or GIF</p>
            </div>
            <input type="file" className="hidden" accept="image/*" onChange={handleFileChange} />
          </label>
        </div>
      );
    };

    // --- Component: EntryList ---
    const EntryList = ({ entries, onRemove }) => {
      if (entries.length === 0) {
        return (
          <div className="text-center py-12 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 border-dashed transition-colors">
            <p className="text-slate-400 dark:text-slate-500">No entries added yet. Start by adding a photo on the left.</p>
          </div>
        );
      }
      return (
        <div className="space-y-4">
          {entries.map((entry, index) => (
            <div key={entry.id} className="bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex flex-col sm:flex-row gap-4 hover:shadow-md transition-all">
              <div className="shrink-0 w-full sm:w-32 h-32 bg-slate-100 dark:bg-slate-900 rounded-lg overflow-hidden border border-slate-100 dark:border-slate-800">
                <img src={entry.imageSrc} alt={`Entry ${index + 1}`} className="w-full h-full object-cover" />
              </div>
              <div className="flex-grow">
                <div className="flex justify-between items-start mb-2">
                  <h3 className="font-semibold text-slate-700 dark:text-slate-200">Photo #{index + 1}</h3>
                  <button onClick={() => onRemove(entry.id)} className="text-slate-400 hover:text-red-500 dark:text-slate-500 dark:hover:text-red-400 transition-colors p-1"><Icons.Trash2 size={18} /></button>
                </div>
                <p className="text-sm text-slate-600 dark:text-slate-400 whitespace-pre-wrap">{entry.description}</p>
              </div>
            </div>
          ))}
        </div>
      );
    };

    // --- Main App Component ---
    const App = () => {
      const [darkMode, setDarkMode] = useState(() => {
        if (typeof window !== 'undefined') return localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches);
        return false;
      });
      useEffect(() => {
        if (darkMode) { document.documentElement.classList.add('dark'); localStorage.setItem('theme', 'dark'); } 
        else { document.documentElement.classList.remove('dark'); localStorage.setItem('theme', 'light'); }
      }, [darkMode]);

      const [projectTitle, setProjectTitle] = useState("My Photo Project");
      const [companyLogo, setCompanyLogo] = useState(null);
      const [currentImage, setCurrentImage] = useState(null);
      const [currentDescription, setCurrentDescription] = useState('');
      const [entries, setEntries] = useState([]);
      const [isGenerating, setIsGenerating] = useState(false);

      const handleAddEntry = useCallback(() => {
        if (!currentImage || !currentDescription.trim()) { alert("Please add both a photo and a description."); return; }
        const newEntry = { id: crypto.randomUUID(), imageSrc: currentImage, description: currentDescription.trim(), timestamp: Date.now() };
        setEntries(prev => [...prev, newEntry]);
        setCurrentImage(null); setCurrentDescription('');
      }, [currentImage, currentDescription]);

      const handleGeneratePDF = useCallback(async () => {
        if (entries.length === 0) return;
        setIsGenerating(true);
        setTimeout(() => {
          try { generatePDF(entries, projectTitle, companyLogo); } 
          catch (error) { console.error("PDF Generation failed:", error); alert("Failed to generate PDF. Please check your inputs."); } 
          finally { setIsGenerating(false); }
        }, 100);
      }, [entries, projectTitle, companyLogo]);

      return (
        <div className="min-h-screen bg-slate-50 dark:bg-slate-900 flex flex-col transition-colors duration-200">
          <header className="bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-10 shadow-sm transition-colors">
            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
              <div className="flex items-center gap-3">
                <div className="bg-blue-600 p-2 rounded-lg"><Icons.Camera className="text-white w-5 h-5" /></div>
                <h1 className="text-xl font-bold text-slate-800 dark:text-white tracking-tight">PhotoLog Creator</h1>
              </div>
              <div className="flex items-center gap-3">
                <button onClick={() => setDarkMode(!darkMode)} className="p-2.5 rounded-lg text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors">
                  {darkMode ? <Icons.Sun size={20} /> : <Icons.Moon size={20} />}
                </button>
                <button onClick={handleGeneratePDF} disabled={entries.length === 0 || isGenerating} className={`flex items-center gap-2 px-5 py-2.5 rounded-lg font-medium transition-all ${entries.length === 0 ? 'bg-slate-100 dark:bg-slate-800 text-slate-400 dark:text-slate-600 cursor-not-allowed' : 'bg-blue-600 text-white hover:bg-blue-700 shadow-md hover:shadow-lg active:transform active:scale-95'}`}>
                  {isGenerating ? <span>Processing...</span> : <><Icons.Download size={18} /><span>Download PDF</span></>}
                </button>
              </div>
            </div>
          </header>
          <main className="flex-grow max-w-7xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-8">
            <div className="grid grid-cols-1 lg:grid-cols-12 gap-8">
              <div className="lg:col-span-5 xl:col-span-4 space-y-6">
                <div className="bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-6 transition-colors">
                  <h2 className="text-lg font-semibold text-slate-800 dark:text-white mb-4 flex items-center gap-2"><Icons.Settings size={20} className="text-slate-500 dark:text-slate-400" />Project Details</h2>
                  <div className="space-y-4">
                    <div>
                      <label className="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">Project Title</label>
                      <input type="text" value={projectTitle} onChange={(e) => setProjectTitle(e.target.value)} className="w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-slate-900 dark:text-white" placeholder="e.g. Site Inspection 2024" />
                    </div>
                    <div>
                      <label className="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">Company Logo (Header)</label>
                      <PhotoUploader imageSrc={companyLogo} onImageSelect={setCompanyLogo} onClear={() => setCompanyLogo(null)} label="Upload Logo" heightClass="h-32" />
                    </div>
                  </div>
                </div>
                <div className="bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-6 sticky top-24 transition-colors">
                  <h2 className="text-lg font-semibold text-slate-800 dark:text-white mb-4 flex items-center gap-2"><Icons.Plus size={20} className="text-blue-500" />Add Photo Entry</h2>
                  <div className="space-y-6">
                    <div>
                      <label className="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">Photo</label>
                      <PhotoUploader imageSrc={currentImage} onImageSelect={setCurrentImage} onClear={() => setCurrentImage(null)} />
                    </div>
                    <div>
                      <label className="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">Description</label>
                      <textarea value={currentDescription} onChange={(e) => setCurrentDescription(e.target.value)} placeholder="Write a detailed description..." className="w-full h-32 px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 transition-all resize-none text-slate-800 dark:text-white" />
                      <div className="text-right mt-1"><span className="text-xs text-slate-400 dark:text-slate-500">{currentDescription.length} chars</span></div>
                    </div>
                    <button onClick={handleAddEntry} disabled={!currentImage || !currentDescription.trim()} className={`w-full py-3 rounded-lg font-semibold transition-all ${!currentImage || !currentDescription.trim() ? 'bg-slate-100 dark:bg-slate-700 text-slate-400 dark:text-slate-500' : 'bg-slate-900 dark:bg-blue-600 text-white hover:bg-slate-800 dark:hover:bg-blue-700 shadow-md'}`}>Add Entry</button>
                  </div>
                </div>
              </div>
              <div className="lg:col-span-7 xl:col-span-8 space-y-6">
                <div className="flex items-center justify-between">
                  <h2 className="text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2"><Icons.FileText className="text-slate-400 dark:text-slate-500" />Entries ({entries.length})</h2>
                  {entries.length > 0 && <button onClick={() => { if(confirm("Clear all?")) setEntries([]); }} className="text-sm text-red-500 hover:text-red-600 hover:underline transition-colors">Clear All</button>}
                </div>
                <div className="bg-slate-50 dark:bg-slate-900 rounded-2xl">
                  <EntryList entries={entries} onRemove={(id) => setEntries(prev => prev.filter(e => e.id !== id))} />
                </div>
              </div>
            </div>
          </main>
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>

  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./sw.js').catch(err => console.log('SW fail', err));
      });
    }
  </script>
<script type="module" src="/index.tsx"></script>
</body>
</html>